#!/usr/bin/env ruby

require "ruby_grammar_builder"
require_relative "lib/patterns"

lpicG = Grammar.new(
  name: "LPiC",
  scope_name: "source.lpic",
  fileTypes: [ "tex" ],
  version: "0.0.1",
  information_for_contributors: [
    "This json file was auto generated by a much-more-readable ruby file",
    "(e.g. don't edit it directly)",
  ],
)

lpicG[:ccode] = PatternRange.new(
  tag_as: "source.c",
  start_pattern: Pattern.new(
    match: /\startCCode/,
    tag_as: "text.tex.command"
  ),
  end_pattern: Pattern.new(
    match: /\endCCode/,
    tag_as: "text.tex.command"
  )
)

lpicG[:$initial_context] = [
  :ccode
]

lpicG.save_to(
    syntax_name: "lpic",
    syntax_dir: "../lpicSyntaxes",
    tag_dir: "../lpicSyntaxes",
)
